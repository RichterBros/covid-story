{"version":3,"sources":["components/header/Header.jsx","components/post/Post.jsx","components/posts/Posts.jsx","config.js","components/sidebar/Sidebar.jsx","pages/home/Home.jsx","context/Reducer.js","context/Context.js","components/topbar/TopBar.jsx","components/singlePost/SinglePost.jsx","pages/single/Single.jsx","pages/write/Write.jsx","pages/settings/Settings.jsx","pages/login/Login.jsx","pages/register/Register.jsx","App.js","index.js"],"names":["Header","_jsxs","className","children","_jsx","src","alt","Post","_ref","post","photo","categories","map","c","name","Link","to","concat","_id","title","Date","createdAt","toDateString","desc","Posts","posts","p","axiosInstance","axios","create","baseURL","Sidebar","_useState","useState","_useState2","_slicedToArray","cats","setCats","useEffect","getCats","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_context","prev","next","get","sent","data","stop","apply","arguments","Home","setPosts","search","useLocation","fetchPosts","_Fragment","Reducer","state","action","type","user","isFetching","error","payload","_objectSpread","INITIAL_STATE","JSON","parse","localStorage","getItem","Context","createContext","ContextProvider","_useReducer","useReducer","_useReducer2","dispatch","setItem","stringify","Provider","value","TopBar","_useContext","useContext","onClick","profilePic","SinglePost","path","pathname","split","setPost","_useState3","_useState4","setTitle","_useState5","_useState6","setDesc","_useState7","_useState8","updateMode","setUpdateMode","getPost","handleDelete","_ref2","_callee2","_context2","delete","username","window","location","replace","t0","handleUpdate","_ref3","_callee3","_context3","put","autoFocus","onChange","e","target","Single","Write","image","setImage","url","setUrl","console","log","handleSubmit","newPost","imageName","preventDefault","FormData","now","append","fetch","method","body","then","json","catch","err","t1","_x","URL","createObjectURL","onSubmit","htmlFor","id","style","display","files","placeholder","Settings","file","setFile","setUsername","email","setEmail","password","setPassword","_useState9","_useState10","success","setSuccess","_useState11","_useState12","updatedUser","filename","userId","userSettingsImg","color","textAlign","marginTop","Login","userRef","useRef","passwordRef","current","ref","disabled","Register","setError","App","Router","Switch","Route","exact","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e3794eac.chunk.js","sourcesContent":["import \"./header.css\";\r\n\r\nexport default function Header() {\r\n  return (\r\n    <div className=\"header\">\r\n      <div className=\"headerTitles\">\r\n        <span className=\"headerTitleSm\">Welcome to</span>\r\n        <span className=\"headerTitleLg\">Covid Stories</span>\r\n      </div>\r\n      <img\r\n        src=\"https://res.cloudinary.com/deuggojsi/image/upload/v1637260726/covid-world_vxbqrx.jpg\"\r\n        alt=\"\"\r\n        className=\"headerImg\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import \"./post.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Post({ post }) {\r\n  //const PF = \"http://localhost:5001/images/\";\r\n  return (\r\n    <div className=\"post\">\r\n      {post.photo && <img className=\"postImg\" src={post.photo} alt=\"\" />}\r\n      <div className=\"postInfo\">\r\n        <div className=\"postCats\">\r\n          {post.categories.map((c) => (\r\n            <span className=\"postCat\">{c.name}</span>\r\n          ))}\r\n        </div>\r\n        <Link to={`/post/${post._id}`} className=\"link\">\r\n          <span className=\"postTitle\">{post.title}</span>\r\n        </Link>\r\n        <hr />\r\n        <span className=\"postDate\">\r\n          {new Date(post.createdAt).toDateString()}\r\n        </span>\r\n      </div>\r\n      <p className=\"postDesc\">{post.desc}</p>\r\n    </div>\r\n  );\r\n}\r\n","import Post from \"../post/Post\";\r\nimport \"./posts.css\";\r\n\r\nexport default function Posts({ posts }) {\r\n  return (\r\n    <div className=\"posts\">\r\n      {posts.map((p) => (\r\n        <Post post={p} />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\n\r\nexport const axiosInstance = axios.create({\r\n  baseURL: \"https://covid-story.herokuapp.com/api/\",\r\n});\r\n","import { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { axiosInstance } from \"../../config\";\r\nimport \"./sidebar.css\";\r\n\r\nexport default function Sidebar() {\r\n  const [cats, setCats] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const getCats = async () => {\r\n      const res = await axiosInstance.get(\"/categories\");\r\n      setCats(res.data);\r\n    };\r\n    getCats();\r\n  }, []);\r\n  return (\r\n    <div className=\"sidebar\">\r\n      <div className=\"sidebarItem\">\r\n        <span className=\"sidebarTitle\">ABOUT ME</span>\r\n        <img\r\n          src=\"https://res.cloudinary.com/deuggojsi/image/upload/v1637265761/1e3f587572a7a7b20bbf1828595a1786--holiday-party-themes-holiday-gift-guide_bsujtm.jpg\"\r\n          alt=\"\"\r\n        />\r\n        <p>\r\n          Laboris sunt aute cupidatat velit magna velit ullamco dolore mollit\r\n          amet ex esse.Sunt eu ut nostrud id quis proident.\r\n        </p>\r\n      </div>\r\n      <div className=\"sidebarItem\">\r\n        <span className=\"sidebarTitle\">CATEGORIES</span>\r\n        <ul className=\"sidebarList\">\r\n          {cats.map((c) => (\r\n            <Link to={`/?cat=${c.name}`} className=\"link\">\r\n              <li className=\"sidebarListItem\">{c.name}</li>\r\n            </Link>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n      <div className=\"sidebarItem\">\r\n        <span className=\"sidebarTitle\">FOLLOW US</span>\r\n        <div className=\"sidebarSocial\">\r\n          <i className=\"sidebarIcon fab fa-facebook-square\"></i>\r\n          <i className=\"sidebarIcon fab fa-twitter-square\"></i>\r\n          <i className=\"sidebarIcon fab fa-pinterest-square\"></i>\r\n          <i className=\"sidebarIcon fab fa-instagram-square\"></i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport Header from \"../../components/header/Header\";\r\nimport Posts from \"../../components/posts/Posts\";\r\nimport Sidebar from \"../../components/sidebar/Sidebar\";\r\nimport \"./home.css\";\r\n\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { axiosInstance } from \"../../config\";\r\n\r\nexport default function Home() {\r\n  const [posts, setPosts] = useState([]);\r\n  const { search } = useLocation();\r\n\r\n  useEffect(() => {\r\n    const fetchPosts = async () => {\r\n      const res = await axiosInstance.get(\"/posts\" + search);\r\n      setPosts(res.data);\r\n    };\r\n    fetchPosts();\r\n  }, [search]);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"home\">\r\n        <Posts posts={posts} />\r\n        <Sidebar />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","const Reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"LOGIN_START\":\r\n      return {\r\n        user: null,\r\n        isFetching: true,\r\n        error: false,\r\n      };\r\n    case \"LOGIN_SUCCESS\":\r\n      return {\r\n        user: action.payload,\r\n        isFetching: false,\r\n        error: false,\r\n      };\r\n    case \"LOGIN_FAILURE\":\r\n      return {\r\n        user: null,\r\n        isFetching: false,\r\n        error: true,\r\n      };\r\n    case \"UPDATE_START\":\r\n      return {\r\n        ...state,\r\n        isFetching: true,\r\n      };\r\n    case \"UPDATE_SUCCESS\":\r\n      return {\r\n        user: action.payload,\r\n        isFetching: false,\r\n        error: false,\r\n      };\r\n    case \"UPDATE_FAILURE\":\r\n      return {\r\n        user: state.user,\r\n        isFetching: false,\r\n        error: true,\r\n      };\r\n    case \"LOGOUT\":\r\n      return {\r\n        user: null,\r\n        isFetching: false,\r\n        error: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default Reducer;\r\n","import { createContext, useEffect, useReducer } from \"react\";\r\nimport Reducer from \"./Reducer\";\r\n\r\nconst INITIAL_STATE = {\r\n  user: JSON.parse(localStorage.getItem(\"user\")) || null,\r\n  isFetching: false,\r\n  error: false,\r\n};\r\nexport const Context = createContext(INITIAL_STATE);\r\n\r\nexport const ContextProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(Reducer, INITIAL_STATE);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"user\", JSON.stringify(state.user));\r\n  }, [state.user]);\r\n\r\n  return (\r\n    <Context.Provider\r\n      value={{\r\n        user: state.user,\r\n        isFetching: state.isFetching,\r\n        error: state.error,\r\n        dispatch,\r\n      }}\r\n    >\r\n      {children}\r\n    </Context.Provider>\r\n  );\r\n};\r\n","import { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Context } from \"../../context/Context\";\r\nimport \"./topbar.css\";\r\n\r\nexport default function TopBar() {\r\n  const { user, dispatch } = useContext(Context);\r\n\r\n  const handleLogout = () => {\r\n    dispatch({ type: \"LOGOUT\" });\r\n  };\r\n  return (\r\n    <div className=\"top\">\r\n      <div className=\"topLeft\">\r\n        <i className=\"topIcon fab fa-facebook-square\"></i>\r\n        <i className=\"topIcon fab fa-twitter-square\"></i>\r\n        <i className=\"topIcon fab fa-pinterest-square\"></i>\r\n        <i className=\"topIcon fab fa-instagram-square\"></i>\r\n      </div>\r\n      <div className=\"topCenter\">\r\n        <ul className=\"topList\">\r\n          <li className=\"topListItem\">\r\n            <Link className=\"link\" to=\"/\">\r\n              HOME\r\n            </Link>\r\n          </li>\r\n          <li className=\"topListItem\">\r\n            <Link className=\"link\" to=\"/\">\r\n              ABOUT\r\n            </Link>\r\n          </li>\r\n          <li className=\"topListItem\">\r\n            <Link className=\"link\" to=\"/\">\r\n              CONTACT\r\n            </Link>\r\n          </li>\r\n          <li className=\"topListItem\">\r\n            <Link className=\"link\" to=\"/write\">\r\n              WRITE\r\n            </Link>\r\n          </li>\r\n          <li className=\"topListItem\" onClick={handleLogout}>\r\n            {user && \"LOGOUT\"}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div className=\"topRight\">\r\n        {user ? (\r\n          <Link to=\"/settings\">\r\n            {/* <img className=\"topImg\" src={user.profilePic} alt=\"\" /> */}\r\n\r\n            <img\r\n              className=\"topImg\"\r\n              src={\r\n                user.profilePic\r\n                  ? user.profilePic\r\n                  : \"https://res.cloudinary.com/deuggojsi/image/upload/v1637263886/1628016818011noAvatar_itvdhx.png\"\r\n              }\r\n              alt=\"\"\r\n            />\r\n          </Link>\r\n        ) : (\r\n          <ul className=\"topList\">\r\n            <li className=\"topListItem\">\r\n              <Link className=\"link\" to=\"/login\">\r\n                LOGIN\r\n              </Link>\r\n            </li>\r\n            <li className=\"topListItem\">\r\n              <Link className=\"link\" to=\"/register\">\r\n                REGISTER\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n        )}\r\n        <i className=\"topSearchIcon fas fa-search\"></i>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { axiosInstance } from \"../../config\";\r\nimport { Context } from \"../../context/Context\";\r\nimport \"./singlePost.css\";\r\n\r\nexport default function SinglePost() {\r\n  const location = useLocation();\r\n  const path = location.pathname.split(\"/\")[2];\r\n  const [post, setPost] = useState({});\r\n  const PF = \"https://covid-story.herokuapp.com/images/\";\r\n  const { user } = useContext(Context);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [desc, setDesc] = useState(\"\");\r\n  const [updateMode, setUpdateMode] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const getPost = async () => {\r\n      const res = await axiosInstance.get(\"/posts/\" + path);\r\n      setPost(res.data);\r\n      setTitle(res.data.title);\r\n      setDesc(res.data.desc);\r\n    };\r\n    getPost();\r\n  }, [path]);\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      await axiosInstance.delete(`/posts/${post._id}`, {\r\n        data: { username: user.username },\r\n      });\r\n      window.location.replace(\"/\");\r\n    } catch (err) {}\r\n  };\r\n\r\n  const handleUpdate = async () => {\r\n    try {\r\n      await axiosInstance.put(`/posts/${post._id}`, {\r\n        username: user.username,\r\n        title,\r\n        desc,\r\n      });\r\n\r\n      setUpdateMode(false);\r\n    } catch (err) {}\r\n  };\r\n\r\n  return (\r\n    <div className=\"singlePost\">\r\n      <div className=\"singlePostWrapper\">\r\n        {post.photo && (\r\n          <img src={post.photo} alt=\"\" className=\"singlePostImg\" />\r\n        )}\r\n        {updateMode ? (\r\n          <input\r\n            type=\"text\"\r\n            value={title}\r\n            className=\"singlePostTitleInput\"\r\n            autoFocus\r\n            onChange={(e) => setTitle(e.target.value)}\r\n          />\r\n        ) : (\r\n          <h1 className=\"singlePostTitle\">\r\n            {title}\r\n            {post.username === user?.username && (\r\n              <div className=\"singlePostEdit\">\r\n                <i\r\n                  className=\"singlePostIcon far fa-edit\"\r\n                  onClick={() => setUpdateMode(true)}\r\n                ></i>\r\n                <i\r\n                  className=\"singlePostIcon far fa-trash-alt\"\r\n                  onClick={handleDelete}\r\n                ></i>\r\n              </div>\r\n            )}\r\n          </h1>\r\n        )}\r\n        <div className=\"singlePostInfo\">\r\n          <span className=\"singlePostAuthor\">\r\n            Author:\r\n            <Link to={`/?user=${post.username}`} className=\"link\">\r\n              <b>{post.username}</b>\r\n            </Link>\r\n          </span>\r\n          <span className=\"singlePostDate\">\r\n            {new Date(post.createdAt).toDateString()}\r\n          </span>\r\n        </div>\r\n        {updateMode ? (\r\n          <textarea\r\n            className=\"singlePostDescInput\"\r\n            value={desc}\r\n            onChange={(e) => setDesc(e.target.value)}\r\n          />\r\n        ) : (\r\n          <p className=\"singlePostDesc\">{desc}</p>\r\n        )}\r\n\r\n        {updateMode && (\r\n          <button className=\"singlePostButton\" onClick={handleUpdate}>\r\n            Update\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import Sidebar from \"../../components/sidebar/Sidebar\";\r\nimport SinglePost from \"../../components/singlePost/SinglePost\";\r\nimport \"./single.css\";\r\n\r\nexport default function Single() {\r\n  return (\r\n    <div className=\"single\">\r\n      <SinglePost />\r\n      <Sidebar />\r\n    </div>\r\n  );\r\n}\r\n","import { useContext, useState, useEffect } from \"react\";\r\nimport \"./write.css\";\r\nimport axios from \"axios\";\r\nimport { Context } from \"../../context/Context\";\r\nimport { axiosInstance } from \"../../config\";\r\n\r\nexport default function Write() {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [desc, setDesc] = useState(\"\");\r\n  const [image, setImage] = useState(null);\r\n  const [url, setUrl] = useState(\"\");\r\n  console.log(\"test\");\r\n  console.log(url);\r\n  console.log(\"test\");\r\n\r\n  const { user } = useContext(Context);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    console.log(\"test\");\r\n    console.log(url);\r\n    console.log(\"test\");\r\n\r\n    const newPost = {\r\n      username: user.username,\r\n      title,\r\n      desc,\r\n      photo: url,\r\n    };\r\n\r\n    console.log(newPost);\r\n    if (image) {\r\n      const data = new FormData();\r\n      const imageName = Date.now() + image.name;\r\n      data.append(\"name\", imageName);\r\n      data.append(\"file\", image);\r\n      data.append(\"upload_preset\", \"ml_default\");\r\n      data.append(\"cloud_name\", \"deuggojsi\");\r\n\r\n      console.log(newPost);\r\n      console.log(user);\r\n      await fetch(\"https://api.cloudinary.com/v1_1/deuggojsi/image/upload\", {\r\n        method: \"post\",\r\n        body: data,\r\n      })\r\n        .then((res) => res.json())\r\n        .then((res) => {\r\n          setUrl(res.url);\r\n          console.log(res.url);\r\n          newPost.photo = res.url;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n\r\n      try {\r\n        await axiosInstance.post(\"/upload\", data);\r\n        console.log(data);\r\n      } catch (err) {}\r\n    }\r\n    try {\r\n      const res = await axiosInstance.post(\"/posts\", newPost);\r\n      console.log(newPost);\r\n      window.location.replace(\"/post/\" + res.data._id);\r\n    } catch (err) {}\r\n  };\r\n\r\n  console.log(image);\r\n  return (\r\n    <div className=\"write\">\r\n      {image && (\r\n        <img className=\"writeImg\" src={URL.createObjectURL(image)} alt=\"\" />\r\n      )}\r\n      <form className=\"writeForm\" onSubmit={handleSubmit}>\r\n        <div className=\"writeFormGroup\">\r\n          <label htmlFor=\"fileInput\">\r\n            <i className=\"writeIcon fas fa-plus\"></i>\r\n          </label>\r\n          <input\r\n            type=\"file\"\r\n            name=\"image\"\r\n            id=\"fileInput\"\r\n            style={{ display: \"none\" }}\r\n            onChange={(e) => setImage(e.target.files[0])}\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Title\"\r\n            className=\"writeInput\"\r\n            autoFocus={true}\r\n            onChange={(e) => setTitle(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"writeFormGroup\">\r\n          <textarea\r\n            placeholder=\"Tell your story...\"\r\n            type=\"text\"\r\n            className=\"writeInput writeText\"\r\n            onChange={(e) => setDesc(e.target.value)}\r\n          ></textarea>\r\n        </div>\r\n        <button className=\"writeSubmit\" type=\"submit\">\r\n          Publish\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import \"./settings.css\";\r\nimport Sidebar from \"../../components/sidebar/Sidebar\";\r\nimport { useContext, useState } from \"react\";\r\nimport { Context } from \"../../context/Context\";\r\n\r\nimport { axiosInstance } from \"../../config\";\r\n\r\nexport default function Settings() {\r\n  const [file, setFile] = useState(null);\r\n  const [username, setUsername] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [success, setSuccess] = useState(false);\r\n  const [url, setUrl] = useState(\"\");\r\n\r\n  const { user, dispatch } = useContext(Context);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    // let pic = () => {\r\n    //   if (file) {\r\n    //     URL.createObjectURL(file);\r\n    //   } else {\r\n    //     return user.profilePic;\r\n    //   }\r\n    // };\r\n\r\n    dispatch({ type: \"UPDATE_START\" });\r\n    const updatedUser = {\r\n      userId: user._id,\r\n      username,\r\n      email,\r\n      password,\r\n    };\r\n    if (file) {\r\n      const data = new FormData();\r\n      const filename = Date.now() + file.name;\r\n      data.append(\"name\", filename);\r\n      data.append(\"file\", file);\r\n      data.append(\"upload_preset\", \"ml_default\");\r\n      data.append(\"cloud_name\", \"deuggojsi\");\r\n\r\n      await fetch(\"https://api.cloudinary.com/v1_1/deuggojsi/image/upload\", {\r\n        method: \"post\",\r\n        body: data,\r\n      })\r\n        .then((res) => res.json())\r\n        .then((res) => {\r\n          setUrl(res.url);\r\n          console.log(res.url);\r\n          updatedUser.profilePic = res.url;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n\r\n      // updatedUser.profilePic = filename;\r\n      try {\r\n        await axiosInstance.post(\"/upload\", data);\r\n      } catch (err) {}\r\n    }\r\n    try {\r\n      const res = await axiosInstance.put(\"/users/\" + user._id, updatedUser);\r\n      setSuccess(true);\r\n      dispatch({ type: \"UPDATE_SUCCESS\", payload: res.data });\r\n    } catch (err) {\r\n      dispatch({ type: \"UPDATE_FAILURE\" });\r\n    }\r\n  };\r\n\r\n  let userSettingsImg =\r\n    \"https://res.cloudinary.com/deuggojsi/image/upload/v1637263886/1628016818011noAvatar_itvdhx.png\";\r\n  if (file) {\r\n    userSettingsImg = URL.createObjectURL(file);\r\n  } else if (user.profilePic) {\r\n    userSettingsImg = user.profilePic;\r\n  } else if (!file && !user.profilePic) {\r\n    userSettingsImg =\r\n      \"https://res.cloudinary.com/deuggojsi/image/upload/v1637263886/1628016818011noAvatar_itvdhx.png\";\r\n  }\r\n\r\n  return (\r\n    <div className=\"settings\">\r\n      <div className=\"settingsWrapper\">\r\n        <div className=\"settingsTitle\">\r\n          <span className=\"settingsUpdateTitle\">Update Your Account</span>\r\n          <span className=\"settingsDeleteTitle\">Delete Account</span>\r\n        </div>\r\n        <form className=\"settingsForm\" onSubmit={handleSubmit}>\r\n          <label>Profile Picture</label>\r\n          <div className=\"settingsPP\">\r\n            <img\r\n              src={\r\n                // {file ? URL.createObjectURL(file) : user.profilePic}\r\n                userSettingsImg\r\n              }\r\n              // src={\r\n              //   file\r\n              //     ? URL.createObjectURL(file)\r\n              //     : user.profilePic\r\n              //     ? \"\"\r\n              //     : \"https://res.cloudinary.com/deuggojsi/image/upload/v1637263886/1628016818011noAvatar_itvdhx.png\"\r\n              // }\r\n              // src={pic}\r\n              alt=\"\"\r\n            />\r\n            <label htmlFor=\"fileInput\">\r\n              <i className=\"settingsPPIcon far fa-user-circle\"></i>\r\n            </label>\r\n            <input\r\n              type=\"file\"\r\n              id=\"fileInput\"\r\n              style={{ display: \"none\" }}\r\n              onChange={(e) => setFile(e.target.files[0])}\r\n            />\r\n          </div>\r\n          <label>Username</label>\r\n          <input\r\n            type=\"text\"\r\n            placeholder={user.username}\r\n            onChange={(e) => setUsername(e.target.value)}\r\n          />\r\n          <label>Email</label>\r\n          <input\r\n            type=\"email\"\r\n            placeholder={user.email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n          <label>Password</label>\r\n          <input\r\n            type=\"password\"\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n          <button className=\"settingsSubmit\" type=\"submit\">\r\n            Update\r\n          </button>\r\n          {success && (\r\n            <span\r\n              style={{ color: \"green\", textAlign: \"center\", marginTop: \"20px\" }}\r\n            >\r\n              Profile has been updated...\r\n            </span>\r\n          )}\r\n        </form>\r\n      </div>\r\n      <Sidebar />\r\n    </div>\r\n  );\r\n}\r\n","import { useContext, useRef } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { axiosInstance } from \"../../config\";\r\nimport { Context } from \"../../context/Context\";\r\nimport \"./login.css\";\r\n\r\nexport default function Login() {\r\n  const userRef = useRef();\r\n  const passwordRef = useRef();\r\n  const { dispatch, isFetching } = useContext(Context);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    dispatch({ type: \"LOGIN_START\" });\r\n    try {\r\n      const res = await axiosInstance.post(\"/auth/login\", {\r\n        username: userRef.current.value,\r\n        password: passwordRef.current.value,\r\n      });\r\n      dispatch({ type: \"LOGIN_SUCCESS\", payload: res.data });\r\n    } catch (err) {\r\n      dispatch({ type: \"LOGIN_FAILURE\" });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <span className=\"loginTitle\">Login</span>\r\n      <form className=\"loginForm\" onSubmit={handleSubmit}>\r\n        <label>Username</label>\r\n        <input\r\n          className=\"loginInput\"\r\n          type=\"text\"\r\n          placeholder=\"Enter your username...\"\r\n          ref={userRef}\r\n        />\r\n        <label>Password</label>\r\n        <input\r\n          className=\"loginInput\"\r\n          type=\"password\"\r\n          placeholder=\"Enter your password...\"\r\n          ref={passwordRef}\r\n        />\r\n        <button className=\"loginButton\" type=\"submit\" disabled={isFetching}>\r\n          Login\r\n        </button>\r\n      </form>\r\n      <button className=\"loginRegisterButton\">\r\n        <Link className=\"link\" to=\"/register\">\r\n          Register\r\n        </Link>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./register.css\";\r\nimport { axiosInstance } from \"../../config\";\r\n\r\nexport default function Register() {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(false);\r\n  const handleSubmit = async (e) => {\r\n    setError(false);\r\n    e.preventDefault();\r\n    try {\r\n      const res = await axiosInstance.post(\"/auth/register\", {\r\n        username,\r\n        email,\r\n        password,\r\n      });\r\n      res.data && window.location.replace(\"/login\");\r\n    } catch (err) {\r\n      setError(true);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"register\">\r\n      <span className=\"registerTitle\">Register</span>\r\n      <form className=\"registerForm\" onSubmit={handleSubmit}>\r\n        <label>Username</label>\r\n        <input\r\n          className=\"registerInput\"\r\n          type=\"text\"\r\n          placeholder=\"Enter your username...\"\r\n          onChange={(e) => setUsername(e.target.value)}\r\n        />\r\n        <label>Email</label>\r\n        <input\r\n          className=\"registerInput\"\r\n          type=\"text\"\r\n          placeholder=\"Enter your email...\"\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n        <label>Password</label>\r\n        <input\r\n          className=\"registerInput\"\r\n          type=\"password\"\r\n          placeholder=\"Enter your password...\"\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n        <button className=\"registerButton\" type=\"submit\">\r\n          Register\r\n        </button>\r\n        {error && (\r\n          <span style={{ color: \"red\", marginTop: \"10px\" }}>\r\n            Something went wrong!\r\n          </span>\r\n        )}\r\n      </form>\r\n      <button className=\"registerLoginButton\">\r\n        <Link className=\"link\" to=\"/login\">\r\n          Login\r\n        </Link>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import Home from \"./pages/home/Home\";\nimport TopBar from \"./components/topbar/TopBar\";\nimport Single from \"./pages/single/Single\";\nimport Write from \"./pages/write/Write\";\nimport Settings from \"./pages/settings/Settings\";\nimport Login from \"./pages/login/Login\";\nimport Register from \"./pages/register/Register\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { Context } from \"./context/Context\";\n\nfunction App() {\n  const { user } = useContext(Context);\n  return (\n    <Router>\n      <TopBar />\n      <Switch>\n        <Route exact path=\"/\">\n          <Home />\n        </Route>\n        <Route path=\"/register\">{user ? <Home /> : <Register />}</Route>\n        <Route path=\"/login\">{user ? <Home /> : <Login />}</Route>\n        <Route path=\"/write\">{user ? <Write /> : <Register />}</Route>\n        <Route path=\"/settings\">{user ? <Settings /> : <Register />}</Route>\n        <Route path=\"/post/:postId\">\n          <Single />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\nimport { ContextProvider } from \"./context/Context\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ContextProvider>\n      <App />\n    </ContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}